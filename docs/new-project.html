<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
<head>
    <meta charset='utf-8'>
    <title>Flow | Starting a new Flow project</title>
    <link rel='stylesheet' href='/static/flow.css' type='text/css'/>
    <link rel='stylesheet' href='/static/syntax.css' type='text/css'/>
    <link rel="stylesheet" href='/static/pygments.css' type='text/css'/>
    <link rel='shortcut icon' href='/static/favicon.png'>
    <meta name='viewport' content='width=480'>
    <meta property="og:title" content="Starting a new Flow project" />
    <meta property="og:site_name" content="flowtype">
    <meta property='og:description' content='Flow is a static type checker for
    JavaScript.'>
    <meta property='og:image' content='http://flowtype.org/static/flow-og-image.png'>
    <meta property='og:url' content="http://flowtype.org/docs/new-project.html">
    
    <meta property='og:type' content='website'>
    
    <script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script>
    <script type="text/javascript">{'try{Typekit.load();}catch(e){}'}</script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-49208336-4', 'auto');
      ga('send', 'pageview');
    </script>
    <link rel="alternate" type="application/rss+xml" title="Flow" href="http://flowtype.org/blog/feed.xml">
</head>
<body>

<header class='topbar'><nav class='width'>
<a href='/'>
  <img src="/static/flow-logo.png" class="logo">
</a>
    <ul>
      <li><a href="/docs/getting-started.html#_"
           class="active" >
          Docs
      </a></li>
      <li><a href="/docs/about-flow.html#_"
          >
          About
      </a></li>
      <li><a href="/support.html"
          >
          Support
      </a></li>
      <li><a href="/blog"
          >
          Blog
      </a></li>
      <li><a href="http://github.com/facebook/flow">GitHub</a>
    </ul>
</nav></header>


<section class='content'><div class='width'>

<nav class='toc'>
  
    <section>
      <h3>Quick Start</h3>
      <ul>
        
          <li>
            <a href="/docs/about-flow.html#_">
              About Flow
            </a>
            
          </li>
        
          <li>
            <a href="/docs/getting-started.html#_">
              Getting started with Flow
            </a>
            
          </li>
        
          <li>
            <a href="/docs/five-simple-examples.html#_">
              Five simple examples
            </a>
            
          </li>
        
      </ul>
    </section>
  
    <section>
      <h3>User Guide</h3>
      <ul>
        
          <li>
            <a href="/docs/new-project.html#_" class="active">
              Starting a new Flow project
            </a>
            
          </li>
        
          <li>
            <a href="/docs/existing.html#_">
              Running Flow on existing code
            </a>
            
          </li>
        
          <li>
            <a href="/docs/third-party.html#_">
              Checking third-party code
            </a>
            
          </li>
        
          <li>
            <a href="/docs/running.html#_">
              Running Flow code
            </a>
            
          </li>
        
          <li>
            <a href="/docs/troubleshooting.html#_">
              Troubleshooting
            </a>
            
          </li>
        
          <li>
            <a href="/docs/cli.html#_">
              Using the CLI
            </a>
            
          </li>
        
          <li>
            <a href="/docs/advanced-configuration.html#_">
              Advanced Configuration
            </a>
            
          </li>
        
      </ul>
    </section>
  
    <section>
      <h3>Walkthroughs</h3>
      <ul>
        
          <li>
            <a href="/docs/react-example.html#_">
              A Flux & React demo
            </a>
            
          </li>
        
          <li>
            <a href="/docs/underscore.html#_">
              Flow, meet Underscore
            </a>
            
          </li>
        
      </ul>
    </section>
  
    <section>
      <h3>Language Reference</h3>
      <ul>
        
          <li>
            <a href="/docs/quick-reference.html#_">
              Quick Reference
            </a>
            
          </li>
        
          <li>
            <a href="/docs/type-annotations.html#_">
              Type Annotations
            </a>
            
          </li>
        
          <li>
            <a href="/docs/variables.html#_">
              Variables
            </a>
            
          </li>
        
          <li>
            <a href="/docs/arrays.html#_">
              Arrays and Tuples
            </a>
            
          </li>
        
          <li>
            <a href="/docs/classes.html#_">
              Classes
            </a>
            
          </li>
        
          <li>
            <a href="/docs/objects.html#_">
              Objects
            </a>
            
          </li>
        
          <li>
            <a href="/docs/functions.html#_">
              Functions
            </a>
            
          </li>
        
          <li>
            <a href="/docs/nullable-types.html#_">
              Maybe Types
            </a>
            
          </li>
        
          <li>
            <a href="/docs/destructuring.html#_">
              Destructuring
            </a>
            
          </li>
        
          <li>
            <a href="/docs/union-intersection-types.html#_">
              Union and Intersection Types
            </a>
            
          </li>
        
          <li>
            <a href="/docs/type-aliases.html#_">
              Type Aliases
            </a>
            
          </li>
        
          <li>
            <a href="/docs/typeof.html#_">
              Typeof types
            </a>
            
          </li>
        
          <li>
            <a href="/docs/operators.html#_">
              Operators
            </a>
            
          </li>
        
          <li>
            <a href="/docs/dynamic-type-tests.html#_">
              Dynamic Type Tests
            </a>
            
          </li>
        
          <li>
            <a href="/docs/primitives.html#_">
              Primitives
            </a>
            
          </li>
        
          <li>
            <a href="/docs/modules.html#_">
              Modules
            </a>
            
          </li>
        
          <li>
            <a href="/docs/declarations.html#_">
              Declarations
            </a>
            
          </li>
        
          <li>
            <a href="/docs/react.html#_">
              React
            </a>
            
          </li>
        
      </ul>
    </section>
  
</nav>


<article class='withtoc'>
    <h1>
      Starting a new Flow project
      <a class="edit-page-link" href="https://github.com/facebook/flow/tree/master/website/docs/02-new-project.md" target="_blank">Edit on GitHub</a>
    </h1>
    <p></p>

    <p>One of the most powerful ways to use Flow is to have it checking your code from the first line you write. This allows you to ensure type safety from the very beginning and reduce the likelihood of errors, even while prototyping.</p>

<h2>Setting up your project</h2>

<p>To set up a new project using Flow, all you need to do is initialize the root of the folder to tell Flow to start typechecking files within your project:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$&gt; </span>mkdir new_project
<span class="gp">$&gt; </span><span class="nb">cd </span>new_project
<span class="gp">$&gt; </span>flow init
</code></pre></div>
<p>All this actually does is create a hidden file <code>.flowconfig</code> at the root of the folder. You might have noticed that this file was already present in each of the examples we looked at earlier.</p>

<p>Once the <code>.flowconfig</code> file is present, you can run ad-hoc checks on the code within it and its subfolders:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$&gt; </span>flow check
</code></pre></div>
<p>Although this works, it is <strong>not the most efficient</strong> way to use Flow. This command causes flow to re-check the entire project&#39;s file structure every time. Instead, we recommend you use the flow server:</p>

<h2>Using the Flow server</h2>

<p>For a large project, you probably only want Flow to recheck files incrementally when they change. Flow uses a client/server architecture which allows you to start a Flow server that will run in the background and type check files as they change. To do this simply run:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$&gt; </span>flow   <span class="c"># This starts a server and prints the initial type check results</span>
</code></pre></div>
<p>You can then check the status of the server again later with the same command:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$&gt; </span>flow   <span class="c"># Connect to the running server and print the type check results</span>
</code></pre></div>
<p>And once you&#39;ve changed some files, you can quickly run it again to see the current state of the type check results:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$&gt; </span>flow   <span class="c"># Connect to server (or start one) and print type check results</span>
</code></pre></div>
<p>Using the <code>flow</code> command with a running server reduces the overhead of having to re-check all files in the project each time you make a change. This allows for a much faster incremental workflow - not to mention a better integration with IDEs and other tools.</p>

<p>When you&#39;ve finished working on your code, you can shutdown the server:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$&gt; </span>flow stop
</code></pre></div>
<h2>Typechecking your files</h2>

<p>As with all the examples in the Flow tutorial, you need to add</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="cm">/* @flow */</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>to the top of each file you&#39;d like Flow to typecheck. You don&#39;t have to do this for all files at once, since Flow will just ignore files that do not have this comment. This allows you to convert your project progressively, one file at a time, and get the benefit of typing gradually. No need to convert your whole project at once.</p>

<p>It is possible to indicate on the command line that you would like Flow to check all JavaScript files, regardless of whether they have the <code>/* @flow */</code> declaration at the top. To do this, use the <code>--all</code> flag:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$&gt; </span>flow check --all
</code></pre></div>
<p>However, use this command cautiously, particularly if you are running Flow against a large existing project or a project with many large third party frameworks or test suites. The chances are that the checker will find a <em>lot</em> of errors or hazards, and it can be a little overwhelming!</p>

<p>A more valuable approach to converting an existing project is to incrementally check - and fix - the project one file at a time. When you&#39;re ready to convert a file, simply add the <code>/* @flow */</code> declaration at the top of the file and run the <code>flow</code> command to see if any errors were discovered.</p>

<p>Read more about testing existing libraries or code in the <a href="existing.html">Running Flow on existing code</a> section of this guide.</p>

<h2>Common Issues</h2>

<p>As Flow starts to typecheck your files you may run into type errors. Check out the <a href="troubleshooting.html">Troubleshooting</a> section for common errors and how to resolve them. Your goal is to get the number of errors down to zero as fast as possible so you can continue on with your development.</p>

<p>In some cases, errors may be due to inherent imprecision of the analysis - which means Flow won&#39;t always get it right and could give errors that are false positives. In those cases you can either try to refactor your code to help Flow understand it, or you can use the <a href="base-types.html#any"><code>any</code></a> type to tell Flow about values that should not be checked.</p>


    <div class="docs-prevnext">
      
        <a href="/docs/five-simple-examples.html#_">&larr; Prev</a>
      
      
        <a class="right" href="/docs/existing.html#_">Next &rarr;</a>
      
    </div>

    <a id="_"></a>
</article>

</div></section>
<footer><div class='width'>
    &copy; Copyright 2014 - 2016, Facebook Inc.
</div></footer>

<script src="/static/linkify.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-387204-12', 'facebook.github.io');
  ga('send', 'pageview');

  !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
</script>
</body>
</html>

